{"version":3,"file":"profile.js","sources":["pages/profile/profile.vue","pages/profile/profile.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"profile-page\">\n\t\t<!-- 头部 -->\n\t\t<view class=\"header\">\n\t\t\t<view class=\"header-top\">\n\t\t\t\t<uni-icons type=\"settings\" size=\"24\" color=\"#333\" @click=\"goToSettings\"></uni-icons>\n\t\t\t</view>\n\t\t\t<view class=\"profile-info\" v-if=\"isLoggedIn\">\n\t\t\t\t<view class=\"avatar-container\">\n\t\t\t\t\t<image v-if=\"userInfo.avatar\" class=\"avatar\" :src=\"userInfo.avatar\" mode=\"aspectFill\"></image>\n\t\t\t\t\t<view v-else class=\"avatar-placeholder\">\n\t\t\t\t\t\t<uni-icons type=\"contact-filled\" size=\"80\" color=\"#00B4D8\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"user-name\">{{ userInfo.username || '用户' }}</text>\n\t\t\t\t<text class=\"user-school\">{{ userInfo.school || 'Rhode Island School of Design' }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"login-prompt\" v-else>\n\t\t\t\t<view class=\"avatar-container\">\n\t\t\t\t\t<view class=\"avatar-placeholder\">\n\t\t\t\t\t\t<uni-icons type=\"contact-filled\" size=\"80\" color=\"#00B4D8\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"login-title\">请先登录</text>\n\t\t\t\t<button class=\"login-button\" @click=\"goToLogin\">立即登录</button>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 统计数据 -->\n\t\t<view class=\"stats\" v-if=\"isLoggedIn\">\n\t\t\t<view class=\"stat-item\">\n\t\t\t\t<text class=\"stat-value\">48</text>\n\t\t\t\t<text class=\"stat-label\">{{ $t('profile.totalHours') }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"stat-item\">\n\t\t\t\t<text class=\"stat-value\">12</text>\n\t\t\t\t<text class=\"stat-label\">{{ $t('profile.favoriteMentors') }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"stat-item\">\n\t\t\t\t<text class=\"stat-value\">8</text>\n\t\t\t\t<text class=\"stat-label\">{{ $t('profile.completedReviews') }}</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 功能列表 -->\n\t\t<view class=\"menu-list\" v-if=\"isLoggedIn\">\n\t\t\t<view class=\"menu-item\" @click=\"goToFolder\">\n\t\t\t\t<uni-icons type=\"folder\" size=\"24\" color=\"#00B4D8\"></uni-icons>\n\t\t\t\t<text class=\"menu-text\">{{ $t('profile.applicationFolder') }}</text>\n\t\t\t\t<uni-icons type=\"right\" size=\"18\" color=\"#ccc\"></uni-icons>\n\t\t\t</view>\n\t\t\t<view class=\"menu-item\">\n\t\t\t\t<uni-icons type=\"heart\" size=\"24\" color=\"#00B4D8\"></uni-icons>\n\t\t\t\t<text class=\"menu-text\">{{ $t('profile.myFavorites') }}</text>\n\t\t\t\t<uni-icons type=\"right\" size=\"18\" color=\"#ccc\"></uni-icons>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 底部导航 -->\n\t\t<BottomNav />\n\t</view>\n</template>\n\n<script>\n\timport BottomNav from '@/components/BottomNav/BottomNav.vue'\n\t\n\texport default {\n\t\tcomponents: {\n\t\t\tBottomNav\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuserInfo: {},\n\t\t\t\tisLoggedIn: false\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.checkLoginStatus()\n\t\t},\n\t\tonShow() {\n\t\t\tthis.checkLoginStatus()\n\t\t},\n\t\tmethods: {\n\t\t\tcheckLoginStatus() {\n\t\t\t\tconst userInfo = uni.getStorageSync('userInfo')\n\t\t\t\tconst uniIdToken = uni.getStorageSync('uni_id_token')\n\t\t\t\t\n\t\t\t\tif (userInfo && userInfo._id && uniIdToken) {\n\t\t\t\t\tthis.isLoggedIn = true\n\t\t\t\t\tthis.userInfo = userInfo\n\t\t\t\t} else {\n\t\t\t\t\tthis.isLoggedIn = false\n\t\t\t\t\tthis.userInfo = {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tloadUserInfo() {\n\t\t\t\tconst userInfo = uni.getStorageSync('userInfo') || {}\n\t\t\t\tthis.userInfo = userInfo\n\t\t\t},\n\t\t\tgoToLogin() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/login/login'\n\t\t\t\t})\n\t\t\t},\n\t\t\tgoToSettings() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/settings/settings'\n\t\t\t\t})\n\t\t\t},\n\t\t\tgoToFolder() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/folder/folder'\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.profile-page {\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f6f8;\n\t\tpadding-bottom: 120rpx;\n\t}\n\n\t.header {\n\t\tbackground-color: #ffffff;\n\t\tpadding: 48rpx 32rpx;\n\t\tpadding-top: calc(48rpx + env(safe-area-inset-top));\n\t\ttext-align: center;\n\t}\n\n\t.header-top {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tmargin-bottom: 32rpx;\n\t}\n\n\t.profile-info {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\n\t.avatar-container {\n\t\tmargin-bottom: 32rpx;\n\t}\n\n\t.avatar {\n\t\twidth: 192rpx;\n\t\theight: 192rpx;\n\t\tborder-radius: 50%;\n\t\tborder: 8rpx solid #ffffff;\n\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.15);\n\t}\n\n\t.avatar-placeholder {\n\t\twidth: 192rpx;\n\t\theight: 192rpx;\n\t\tborder-radius: 50%;\n\t\tborder: 8rpx solid #ffffff;\n\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.15);\n\t\tbackground-color: #f0f0f0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.user-name {\n\t\tfont-size: 48rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 8rpx;\n\t}\n\n\t.user-school {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t}\n\n\t.stats {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(3, 1fr);\n\t\tgap: 32rpx;\n\t\tpadding: 48rpx 32rpx;\n\t}\n\n\t.stat-item {\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 24rpx;\n\t\tpadding: 32rpx;\n\t\ttext-align: center;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.stat-value {\n\t\tdisplay: block;\n\t\tfont-size: 48rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 8rpx;\n\t}\n\n\t.stat-label {\n\t\tdisplay: block;\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t.menu-list {\n\t\tpadding: 0 32rpx;\n\t}\n\n\t.menu-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 32rpx;\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 24rpx;\n\t\tpadding: 32rpx;\n\t\tmargin-bottom: 24rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.menu-text {\n\t\tflex: 1;\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #333;\n\t}\n\n\t.login-prompt {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 48rpx 0;\n\t}\n\n\t.login-title {\n\t\tfont-size: 32rpx;\n\t\tcolor: #666;\n\t\tmargin-bottom: 32rpx;\n\t}\n\n\t.login-button {\n\t\tbackground-color: #00B4D8;\n\t\tcolor: #ffffff;\n\t\tborder: none;\n\t\tborder-radius: 24rpx;\n\t\tpadding: 24rpx 64rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 180, 216, 0.3);\n\t}\n\n</style>\n","import MiniProgramPage from '/Users/tinajiang/Documents/HBuilderProjects/Artris-学生端/pages/profile/profile.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAgEC,MAAK,YAAa,MAAW;AAE7B,MAAK,YAAU;AAAA,EACd,YAAY;AAAA,IACX;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,UAAU,CAAE;AAAA,MACZ,YAAY;AAAA,IACb;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,iBAAiB;AAAA,EACtB;AAAA,EACD,SAAS;AACR,SAAK,iBAAiB;AAAA,EACtB;AAAA,EACD,SAAS;AAAA,IACR,mBAAmB;AAClB,YAAM,WAAWA,cAAAA,MAAI,eAAe,UAAU;AAC9C,YAAM,aAAaA,cAAAA,MAAI,eAAe,cAAc;AAEpD,UAAI,YAAY,SAAS,OAAO,YAAY;AAC3C,aAAK,aAAa;AAClB,aAAK,WAAW;AAAA,aACV;AACN,aAAK,aAAa;AAClB,aAAK,WAAW,CAAC;AAAA,MAClB;AAAA,IACA;AAAA,IACD,eAAe;AACd,YAAM,WAAWA,cAAG,MAAC,eAAe,UAAU,KAAK,CAAC;AACpD,WAAK,WAAW;AAAA,IAChB;AAAA,IACD,YAAY;AACXA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA,IACD,eAAe;AACdA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA,IACD,aAAa;AACZA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClHD,GAAG,WAAW,eAAe;"}