{"version":3,"file":"folder.js","sources":["pages/folder/folder.vue","pages/folder/folder.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"folder-page\">\n\t\t<!-- 导航栏 -->\n\t\t<view class=\"navbar\">\n\t\t\t<uni-icons type=\"left\" size=\"24\" color=\"#333\" @click=\"goBack\"></uni-icons>\n\t\t\t<text class=\"nav-title\">{{ $t('folder.title') }}</text>\n\t\t\t<view class=\"nav-placeholder\"></view>\n\t\t</view>\n\n\t\t<view class=\"content\">\n\t\t\t<!-- 申请进度卡片 -->\n\t\t\t<view \n\t\t\t\tv-for=\"application in applications\" \n\t\t\t\t:key=\"application._id\"\n\t\t\t\tclass=\"application-card\"\n\t\t\t>\n\t\t\t\t<text class=\"school-name\">{{ application.school_name }}</text>\n\t\t\t\t<view class=\"progress-bar\">\n\t\t\t\t\t<view class=\"progress-fill\" :style=\"{ width: application.progress + '%' }\"></view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"progress-text\">\n\t\t\t\t\t{{ $t('folder.processing') }} · {{ $t('folder.daysLeft', { days: getDaysLeft(application.deadline) }) }}\n\t\t\t\t</text>\n\t\t\t</view>\n\n\t\t\t<!-- 申请清单 -->\n\t\t\t<view class=\"materials-section\">\n\t\t\t\t<text class=\"section-title\">{{ $t('folder.applicationList') }}</text>\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(material, index) in materials\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"material-item\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"material-info\">\n\t\t\t\t\t\t<text class=\"material-name\">{{ material.name }}</text>\n\t\t\t\t\t\t<text class=\"material-progress\">{{ $t('folder.completed', { percent: material.progress }) }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<uni-icons type=\"loop\" size=\"24\" color=\"#00B4D8\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tapplications: [],\n\t\t\t\tmaterials: [\n\t\t\t\t\t{ name: '作品集', progress: 80 }\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.loadApplications()\n\t\t},\n\t\tmethods: {\n\t\t\tasync loadApplications() {\n\t\t\t\ttry {\n\t\t\t\t\tconst userInfo = uni.getStorageSync('userInfo') || {}\n\t\t\t\t\tconst res = await uniCloud.database().collection('applications')\n\t\t\t\t\t\t.where({\n\t\t\t\t\t\t\tstudent_id: userInfo._id || 'test_student'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.get()\n\t\t\t\t\t\n\t\t\t\t\tif (res.data) {\n\t\t\t\t\t\tthis.applications = res.data || []\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载申请资料失败:', error)\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetDaysLeft(deadline) {\n\t\t\t\tif (!deadline) return 0\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst deadlineDate = new Date(deadline)\n\t\t\t\tconst diff = deadlineDate - now\n\t\t\t\treturn Math.ceil(diff / (1000 * 60 * 60 * 24))\n\t\t\t},\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack()\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.folder-page {\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f6f8;\n\t\tpadding-bottom: 32rpx;\n\t}\n\n\t.navbar {\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 20rpx 32rpx;\n\t\tbackground: rgba(255, 255, 255, 0.95);\n\t\tbackdrop-filter: blur(10px);\n\t\tborder-bottom: 1px solid #e5e5e5;\n\t\tz-index: 100;\n\t}\n\n\t.nav-title {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\n\t.nav-placeholder {\n\t\twidth: 48rpx;\n\t}\n\n\t.content {\n\t\tpadding: 32rpx;\n\t}\n\n\t.application-card {\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 24rpx;\n\t\tpadding: 40rpx;\n\t\tmargin-bottom: 32rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.school-name {\n\t\tdisplay: block;\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.progress-bar {\n\t\twidth: 100%;\n\t\theight: 10rpx;\n\t\tbackground-color: #f0f0f0;\n\t\tborder-radius: 50rpx;\n\t\toverflow: hidden;\n\t\tmargin-bottom: 16rpx;\n\t}\n\n\t.progress-fill {\n\t\theight: 100%;\n\t\tbackground-color: #00B4D8;\n\t\tborder-radius: 50rpx;\n\t\ttransition: width 0.3s;\n\t}\n\n\t.progress-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t.materials-section {\n\t\tmargin-top: 48rpx;\n\t}\n\n\t.section-title {\n\t\tdisplay: block;\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.material-item {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tbackground-color: #ffffff;\n\t\tborder: 1px solid #e5e5e5;\n\t\tborder-radius: 24rpx;\n\t\tpadding: 32rpx;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.material-info {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 8rpx;\n\t}\n\n\t.material-name {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\n\t.material-progress {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n</style>\n","import MiniProgramPage from '/Users/tinajiang/Documents/HBuilderProjects/Artris-学生端/pages/folder/folder.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":";;AA6CC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,cAAc,CAAE;AAAA,MAChB,WAAW;AAAA,QACV,EAAE,MAAM,OAAO,UAAU,GAAG;AAAA,MAC7B;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,iBAAiB;AAAA,EACtB;AAAA,EACD,SAAS;AAAA,IACR,MAAM,mBAAmB;AACxB,UAAI;AACH,cAAM,WAAWA,cAAG,MAAC,eAAe,UAAU,KAAK,CAAC;AACpD,cAAM,MAAM,MAAMC,cAAQ,GAAC,SAAQ,EAAG,WAAW,cAAc,EAC7D,MAAM;AAAA,UACN,YAAY,SAAS,OAAO;AAAA,SAC5B,EACA,IAAI;AAEN,YAAI,IAAI,MAAM;AACb,eAAK,eAAe,IAAI,QAAQ,CAAC;AAAA,QAClC;AAAA,MACC,SAAO,OAAO;AACfD,sBAAAA,sDAAc,aAAa,KAAK;AAAA,MACjC;AAAA,IACA;AAAA,IACD,YAAY,UAAU;AACrB,UAAI,CAAC;AAAU,eAAO;AACtB,YAAM,MAAM,oBAAI,KAAK;AACrB,YAAM,eAAe,IAAI,KAAK,QAAQ;AACtC,YAAM,OAAO,eAAe;AAC5B,aAAO,KAAK,KAAK,QAAQ,MAAO,KAAK,KAAK,GAAG;AAAA,IAC7C;AAAA,IACD,SAAS;AACRA,oBAAAA,MAAI,aAAa;AAAA,IAClB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpFD,GAAG,WAAW,eAAe;"}