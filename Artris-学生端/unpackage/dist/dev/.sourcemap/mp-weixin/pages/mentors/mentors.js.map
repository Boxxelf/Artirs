{"version":3,"file":"mentors.js","sources":["pages/mentors/mentors.vue","pages/mentors/mentors.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"mentors-page\">\n\t\t<!-- 头部 -->\n\t\t<view class=\"header\">\n\t\t\t<view class=\"header-content\">\n\t\t\t\t<uni-icons type=\"home\" size=\"24\" color=\"#00B4D8\"></uni-icons>\n\t\t\t\t<text class=\"header-title\">{{ $t('mentor.title') }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"header-right\" @click=\"goToSearch\">\n\t\t\t\t<uni-icons type=\"search\" size=\"24\" color=\"#666\"></uni-icons>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 筛选栏 -->\n\t\t<view class=\"filter-bar\">\n\t\t\t<scroll-view class=\"filter-scroll\" scroll-x=\"true\" :show-scrollbar=\"false\">\n\t\t\t\t<view class=\"filter-item\" @click=\"showPriceFilter\">\n\t\t\t\t\t<text>{{ $t('common.filter') || '按价格' }}</text>\n\t\t\t\t\t<uni-icons type=\"down\" size=\"14\" color=\"#666\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\n\t\t<!-- 导师列表 -->\n\t\t<view class=\"mentor-list\">\n\t\t\t<view \n\t\t\t\tv-for=\"mentor in mentors\" \n\t\t\t\t:key=\"mentor._id\"\n\t\t\t\tclass=\"mentor-item\"\n\t\t\t\t@click=\"goToMentorDetail(mentor._id)\"\n\t\t\t>\n\t\t\t\t<view class=\"mentor-card\">\n\t\t\t\t\t<view class=\"mentor-main\">\n\t\t\t\t\t\t<image class=\"mentor-avatar\" :src=\"mentor.avatar\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<view class=\"mentor-info\">\n\t\t\t\t\t\t\t<view class=\"mentor-header\">\n\t\t\t\t\t\t\t\t<text class=\"mentor-name\">{{ mentor.name }}</text>\n\t\t\t\t\t\t\t\t<view v-if=\"mentor.available\" class=\"available-badge\">\n\t\t\t\t\t\t\t\t\t{{ $t('mentor.availableThisWeek') }}\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"mentor-school\">{{ mentor.school }}</text>\n\t\t\t\t\t\t\t<text class=\"mentor-exp\">{{ mentor.degree }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"mentor-footer\">\n\t\t\t\t\t\t<view class=\"mentor-rating\">\n\t\t\t\t\t\t\t<uni-icons type=\"star-filled\" size=\"18\" color=\"#FFA500\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"rating-text\">{{ mentor.rating }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"mentor-price\">\n\t\t\t\t\t\t\t<text class=\"price-value\">¥{{ mentor.price }}</text>\n\t\t\t\t\t\t\t<text class=\"price-unit\">/{{ $t('mentor.pricePerHour') }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view v-if=\"loading\" class=\"loading\">\n\t\t\t\t<text>{{ $t('common.loading') }}</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view v-if=\"!loading && mentors.length === 0\" class=\"empty\">\n\t\t\t\t<text>{{ $t('common.noData') }}</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 底部导航 -->\n\t\t<BottomNav />\n\t</view>\n</template>\n\n<script>\n\timport BottomNav from '@/components/BottomNav/BottomNav.vue'\n\t\n\texport default {\n\t\tcomponents: {\n\t\t\tBottomNav\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmentors: [],\n\t\t\t\tloading: false,\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 10,\n\t\t\t\thasMore: true\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.loadMentors()\n\t\t},\n\t\tonReachBottom() {\n\t\t\tif (this.hasMore && !this.loading) {\n\t\t\t\tthis.loadMore()\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tasync loadMentors() {\n\t\t\t\tthis.loading = true\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'mentors',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'getList',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\t\t\tpageSize: this.pageSize\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\t\tthis.mentors = res.result.data || []\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.mentors = [...this.mentors, ...(res.result.data || [])]\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.hasMore = res.result.data.length === this.pageSize\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载导师失败:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '加载失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t},\n\t\t\tloadMore() {\n\t\t\t\tthis.page++\n\t\t\t\tthis.loadMentors()\n\t\t\t},\n\t\t\tgoToMentorDetail(mentorId) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/mentor-detail/mentor-detail?id=${mentorId}`\n\t\t\t\t})\n\t\t\t},\n\t\t\tgoToSearch() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/search/search'\n\t\t\t\t})\n\t\t\t},\n\t\t\tshowPriceFilter() {\n\t\t\t\t// 显示价格筛选\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.mentors-page {\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f6f8;\n\t\tpadding-bottom: 120rpx;\n\t}\n\n\t.header {\n\t\tbackground: rgba(255, 255, 255, 0.95);\n\t\tbackdrop-filter: blur(10px);\n\t\tpadding: 24rpx 32rpx;\n\t\tborder-bottom: 1px solid #e5e5e5;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: 100;\n\t}\n\n\t.header-content {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 16rpx;\n\t}\n\n\t.header-title {\n\t\tfont-size: 40rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\n\t.header-right {\n\t\tposition: absolute;\n\t\tright: 32rpx;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t}\n\n\t.filter-bar {\n\t\tbackground-color: #ffffff;\n\t\tpadding: 16rpx 32rpx;\n\t\tborder-bottom: 1px solid #e5e5e5;\n\t}\n\n\t.filter-scroll {\n\t\twhite-space: nowrap;\n\t}\n\n\t.filter-item {\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tpadding: 16rpx 32rpx;\n\t\tbackground-color: #ffffff;\n\t\tborder: 1px solid #e5e5e5;\n\t\tborder-radius: 50rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tmargin-right: 16rpx;\n\t}\n\n\t.mentor-list {\n\t\tpadding: 32rpx;\n\t}\n\n\t.mentor-item {\n\t\tmargin-bottom: 32rpx;\n\t}\n\n\t.mentor-card {\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tbackdrop-filter: blur(12px);\n\t\tborder-radius: 24rpx;\n\t\tpadding: 32rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.mentor-main {\n\t\tdisplay: flex;\n\t\tgap: 32rpx;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.mentor-avatar {\n\t\twidth: 160rpx;\n\t\theight: 160rpx;\n\t\tborder-radius: 16rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\n\t}\n\n\t.mentor-info {\n\t\tflex: 1;\n\t}\n\n\t.mentor-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 8rpx;\n\t}\n\n\t.mentor-name {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\n\t.available-badge {\n\t\tbackground-color: #4CAF50;\n\t\tcolor: #ffffff;\n\t\tpadding: 4rpx 16rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 20rpx;\n\t\tfont-weight: bold;\n\t}\n\n\t.mentor-school {\n\t\tdisplay: block;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tfont-weight: 500;\n\t\tmargin-bottom: 8rpx;\n\t}\n\n\t.mentor-exp {\n\t\tdisplay: block;\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t.mentor-footer {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding-top: 24rpx;\n\t\tborder-top: 1px solid rgba(0, 0, 0, 0.05);\n\t}\n\n\t.mentor-rating {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t}\n\n\t.rating-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #FFA500;\n\t}\n\n\t.mentor-price {\n\t\tdisplay: flex;\n\t\talign-items: baseline;\n\t}\n\n\t.price-value {\n\t\tfont-size: 40rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #00B4D8;\n\t}\n\n\t.price-unit {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\tmargin-left: 4rpx;\n\t}\n\n\t.loading, .empty {\n\t\ttext-align: center;\n\t\tpadding: 64rpx;\n\t\tcolor: #999;\n\t\tfont-size: 28rpx;\n\t}\n\n</style>\n","import MiniProgramPage from '/Users/tinajiang/Documents/HBuilderProjects/Artris-学生端/pages/mentors/mentors.vue'\nwx.createPage(MiniProgramPage)"],"names":["uniCloud","uni"],"mappings":";;AAyEC,MAAK,YAAa,MAAW;AAE7B,MAAK,YAAU;AAAA,EACd,YAAY;AAAA,IACX;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,SAAS,CAAE;AAAA,MACX,SAAS;AAAA,MACT,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,YAAY;AAAA,EACjB;AAAA,EACD,gBAAgB;AACf,QAAI,KAAK,WAAW,CAAC,KAAK,SAAS;AAClC,WAAK,SAAS;AAAA,IACf;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,MAAM,cAAc;AACnB,WAAK,UAAU;AACf,UAAI;AACH,cAAM,MAAM,MAAMA,cAAQ,GAAC,aAAa;AAAA,UACvC,MAAM;AAAA,UACN,MAAM;AAAA,YACL,QAAQ;AAAA,YACR,MAAM;AAAA,cACL,MAAM,KAAK;AAAA,cACX,UAAU,KAAK;AAAA,YAChB;AAAA,UACD;AAAA,SACA;AAED,YAAI,IAAI,OAAO,SAAS,GAAG;AAC1B,cAAI,KAAK,SAAS,GAAG;AACpB,iBAAK,UAAU,IAAI,OAAO,QAAQ,CAAC;AAAA,iBAC7B;AACN,iBAAK,UAAU,CAAC,GAAG,KAAK,SAAS,GAAI,IAAI,OAAO,QAAQ,EAAG;AAAA,UAC5D;AACA,eAAK,UAAU,IAAI,OAAO,KAAK,WAAW,KAAK;AAAA,QAChD;AAAA,MACC,SAAO,OAAO;AACfC,sBAAAA,yDAAc,WAAW,KAAK;AAC9BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAAA,MACF,UAAU;AACT,aAAK,UAAU;AAAA,MAChB;AAAA,IACA;AAAA,IACD,WAAW;AACV,WAAK;AACL,WAAK,YAAY;AAAA,IACjB;AAAA,IACD,iBAAiB,UAAU;AAC1BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,yCAAyC,QAAQ;AAAA,OACtD;AAAA,IACD;AAAA,IACD,aAAa;AACZA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA,IACD,kBAAkB;AAAA,IAElB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClJD,GAAG,WAAW,eAAe;"}